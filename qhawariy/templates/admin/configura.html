<!-- Formulario que permite cambiar y asignar el rol a los usuario -->
{% extends "base.html" %}

{% block title %}
    Configuración
{% endblock %}

{% block head %}
    {{ super() }}
    <script type="text/javascript" src="{{ url_for('static', filename='source/js/user.js') }}"></script>
{% endblock %}
{% block navigation %}
{% if current_user.is_authenticated %}
    <a href="{{url_for('home.index')}}" class="q-icon-costumer">
        <div class="mr-4 w-6 h-6">
            <img src="{{ url_for('static', filename='img/home.svg') }}" height="24px" width="24px" alt="qhawariy inicio" srcset="" class="block q-icon-normal">
        </div>
        Inicio
    </a>
    <a href="{{url_for('admin.listar_usuarios')}}" class="q-icon-costumer">
        <div class="mr-4 w-6 h-6">
            <!-- <img src="{{ url_for('static', filename='img/icon-len.svg') }}" alt="qhawariy" srcset="" class="block q-icon-active"> -->
            <img src="{{ url_for('static', filename='img/users.svg') }}" height="24px" width="24px" alt="panel usuarios" class="block q-icon-normal">
        </div>
        Usuarios
    </a>
    <a href="{{url_for('vehiculo.listar_vehiculos')}}" class="q-icon-costumer">
        <div class="mr-4 w-6 h-6">
            <img src="{{url_for('static', filename='img/fleet.svg')}}" height="24px" width="24px" alt="panel vehiculos" class="block q-icon-normal">
        </div>
        Vehiculos
    </a>
    <a  href="{{url_for('propietario.listar_propietarios')}}" class="q-icon-costumer">
        <div class="mr-4 w-6 h-6">
            <img src="{{url_for('static', filename='img/owners.svg')}}" height="24px" width="24px" alt="panel propietarios" class="block q-icon-normal">
        </div>
        Propietarios
    </a>
    <a href="{{url_for('ruta.lista_ruta')}}" class="q-icon-costumer">
        <div class="mr-4 w-6 h-6">
            <img src="{{ url_for('static', filename='img/route.svg') }}" height="24px" width="24px" alt="panel rutas" srcset="" class="block q-icon-normal">
        </div>
        Rutas
    </a>
    <a href="{{url_for('control.listar_controles')}}" class="q-icon-costumer">
        <div class="mr-4 w-6 h-6">
            <img src="{{ url_for('static', filename='img/control.svg') }}" height="24px" width="24px" alt="panel controles" srcset="" class="block q-icon-normal">
        </div>
        Controles
    </a>
    <a href="{{url_for('admin.configurar',config_id=1)}}" class="q-link-active q-link-exact-active">
        <div class="mr-4 w-6 h-6">
            <img src="{{ url_for('static', filename='img/icon-config-blue.svg') }}" height="24px" width="24px" alt="panel configurar" srcset="" class="block q-icon-active">
        </div>
        Configuración
    </a>
    <a href="{{url_for('estadistica.mostrar_estadisticas')}}" class="q-icon-costumer">
        <div class="mr-4 w-6 h-6">
            <img src="{{ url_for('static', filename='img/statistic.svg') }}" height="24px" width="24px" alt="panel estadisticas" srcset="" class="block q-icon-normal">
        </div>
        Estadisticas
    </a>
{% endif %}
{% endblock %}

{% block linker %}
<div class="flex">
    <img src="{{url_for('static', filename='img/icon-angle-right.svg')}}" height="12px" width="8px" alt="" class="">
</div>
<a href="{{ url_for('home.index') }}" class="btn--base">
    <p class="text-h3">Inicio</p>
</a>
<div class="flex">
    <img src="{{url_for('static', filename='img/icon-angle-right.svg')}}" height="12px" width="8px" alt="" class="">
</div>
<a href="#" class="btn--base">
    <p class="text-h3">Configuración</p>
</a>
{% endblock %}
{% block content %}
<form action="" method="post">
    {{form.hidden_tag()}}
    <div class="flex items-end justify-end py-2">
        {{ form.submit(class="btn btn--base btn-green-600 w-auto block text-center") }}
    </div>
    <div class="grid grid-cols-2-1-3 sm:grid-cols-1 gap-10 sm:gap-y-2 p-8">
        <div class="border border-gray-100 p-4 shadow-custom rounded-[10px] order-1">
            <p class="text-center text-h4">Viajes</p>
            <div class="mt-3">
                <div class="relative">
                    <div class="w-full block">
                        {{ form.tiempo_espera_vehiculo.label }}
                        {{ form.tiempo_espera_vehiculo(class="rounded-xxs border text-black-100 text-sm w-full px-4 py-3 border-gray-400", placeholder="", autocomplete="on") }}<br>
                    </div>
                </div>
                {% for error in form.tiempo_espera_vehiculo.errors %}
                <span class="text-red-600 text-xs">{{ error }}</span>
                {% endfor %}
            </div>
            <div class="mt-3">
                <div class="relative">
                    <div class="w-full block">
                        {{ form.tiempo_total_en_recorrido.label }}
                        {{ form.tiempo_total_en_recorrido(class="rounded-xxs border text-black-100 text-sm w-full px-4 py-3 border-gray-400", placeholder="", autocomplete="on") }}<br>
                    </div>
                </div>
                {% for error in form.tiempo_total_en_recorrido.errors %}
                <span class="text-red-600 text-xs">{{ error }}</span>
                {% endfor %}
            </div>
        </div>
        <div class="border border-gray-100 p-4 shadow-custom rounded-[10px] order-2">
            <p class="text-center text-h4">Trabajo</p>
            <div class="mt-3">
                <div class="relative">
                    <div class="w-full block">
                        {{ form.horario_inicio.label }}
                        {{ form.horario_inicio(class="rounded-xxs border text-black-100 text-sm w-full px-4 py-3 border-gray-400", placeholder="", autocomplete="on") }}<br>
                    </div>
                </div>
                {% for error in form.horario_inicio.errors %}
                <span class="text-red-600 text-xs">{{ error }}</span>
                {% endfor %}
            </div>
            <div class="mt-3">
                <div class="relative">
                    <div class="w-full block">
                        {{ form.horario_fin.label }}
                        {{ form.horario_fin(class="rounded-xxs border text-black-100 text-sm w-full px-4 py-3 border-gray-400", placeholder="", autocomplete="on") }}<br>
                    </div>
                </div>
                {% for error in form.horario_fin.errors %}
                <span class="text-red-600 text-xs">{{ error }}</span>
                {% endfor %}
            </div>
        </div>
        <div class="border border-gray-100 p-4 shadow-custom rounded-[10px] order-3">
            <p class="text-center text-h4">Programacion</p>
            <div class="mt-3">
                <div class="relative">
                    <div class="w-full block">
                        {{ form.cantidad_vehiculos_a_programar.label }}
                        <div class="flex items-center">
                            {{ form.cantidad_vehiculos_a_programar(class="pointer rounded-xxs border text-black-100 text-sm w-full px-4 py-3 border-gray-400", placeholder="", autocomplete="on") }}<br>
                            <p class="ml-2">Cantidad:<output id="value"></output></p>
                        </div>
                    </div>
                </div>
                {% for error in form.cantidad_vehiculos_a_programar.errors %}
                <span class="text-red-600 text-xs">{{ error }}</span>
                {% endfor %}
            </div>
        </div>
        <!-- <div class="border border-gray-100 p-4 shadow-custom rounded-[10px] order-3">
            <p class="text-center text-h4">Secuencia de control ida</p>
            <p class="text-center text-h6"> Secuencia actual:
                {#% for control in confi.secuencia_control_ida %#}
                    <span class="text-blue-100">{#{control}#}</span>
                {#% endfor %#}
            </p>
            <div class="mt-3">
                {#% for subform in form.secuencia_control_ida %#}
                <div class="relative">
                    <div class="w-full block">
                        {#{ subform.control.label }#}
                        <div class="flex items-center">
                            {#{ subform.control(class="rounded-xxs border text-black-100 text-sm w-full px-4 py-3 border-gray-400", placeholder="", autocomplete="on") }#}<br>
                        </div>
                    </div>
                </div>
                {#% for error in subform.control.errors %#}
                <span class="text-red-600 text-xs">{#{ error }#}</span>
                {#% endfor %#}
                {#% endfor %#}
            </div>
        </div> -->
    </div>
</form>
{% endblock %}
{% block javascript %}
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded",()=>{
        const value=document.querySelector("#value");
        const input=document.querySelector("#cantidad_vehiculos_a_programar");
        value.textContent=input.value;
        input.addEventListener("input",(event)=>{
            value.textContent=event.target.value;
        })
    });
</script>
{% endblock %}