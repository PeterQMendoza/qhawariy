{% extends 'base.html' %}

{% block title %}
    Agregando Vehiculos
{% endblock %}
{% block head %}
    {{ super() }}
    <!-- <link rel="stylesheet" href="{#{ url_for('static', filename='styles/programa.css') }#}" type="text/css"> -->
    <script type="text/javascript" src="{{ url_for('static', filename='dist/js/programacion_qhawariy.min.js') }}"></script>
{% endblock %}
{% block navigation %}
    {% if current_user.is_authenticated %}
        <a href="{{url_for('home.index')}}" class="q-icon-costumer">
            <div class="mr-4 w-6 h-6">
                <img src="{{ url_for('static', filename='img/home.svg') }}" alt="qhawariy" srcset="" class="block q-icon-normal">
            </div>
            Inicio
        </a>
        <a href="{{url_for('programacion.agregar_programacion')}}" class="q-link-active q-link-exact-active">
            <div class="mr-4 w-6 h-6">
                <img src="{{ url_for('static', filename='img/schedule_blue.svg') }}" alt="qhawariy" srcset="" class="block q-icon-active">
            </div>
            Programaciones
        </a>
        <a href="{{url_for('cronograma_vehiculos.mostrar_cronograma',busca='todos')}}" class="q-icon-costumer">
            <div class="mr-4 w-6 h-6">
                <img src="{{ url_for('static', filename='img/schedule_vehicle.svg') }}" alt="qhawariy" srcset="" class="block q-icon-normal">
            </div>
            Plan de flota
        </a>
        <a href="{{url_for('estadistica.mostrar_estadisticas')}}" class="q-icon-costumer">
            <div class="mr-4 w-6 h-6">
                <img src="{{ url_for('static', filename='img/statistic.svg') }}" alt="qhawariy" srcset="" class="block q-icon-normal">
            </div>
            Estadisticas
        </a>
    {% endif %}
{% endblock %}
{% block linker %}
<div class="flex">
    <img src="{{url_for('static', filename='img/icon-angle-right.svg')}}" alt="Descargar" class="">
</div>
<a href="{{ url_for('home.index') }}" class="btn--base">
    <p class="text-h3">Inicio</p>
</a>
<div class="flex">
    <img src="{{url_for('static', filename='img/icon-angle-right.svg')}}" alt="Descargar" class="">
</div>
<a href="{{ url_for('programacion.agregar_programacion') }}" class="btn--base">
    <p class="text-h3">Lista de programaciones</p>
</a>
<div class="flex">
    <img src="{{url_for('static', filename='img/icon-angle-right.svg')}}" alt="Descargar" class="">
</div>
<a href="#" class="btn--base">
    <p class="text-h3">Agregar vehiculo a una programacion</p>
</a>
{% endblock %}
{% block content %}
<div class="grid gap-2 grid-cols-2 sm:gap-x-0 sm:grid-cols-1">
    <div class="">
        <div class="flex items-center justify-between py-2">
            <p class="text-h6 text-black-100">Información para establecer programacion
            </p>
        </div>
        <div class="grid gap-2 grid-cols-1 sm:gap-x-0 pr-4 py-2 border-b border-gray-209 text-body-3">
            <div class="flex items-center justify-center">
                <p></p>
            </div>
        </div>
    </div>
    <div class="pb-4">
        <div class="flex items-center justify-between py-2">
            <p class="text-h6 text-black-100">Lista de vehiculos programados para: 
                <span class="text-blue-100 font-semibold">{{programa.fecha.fecha | date_time('date')}}</span>
            </p>
        </div>
        <div class=" border border-gray-209">
            <div class="grid gap-2 grid-cols-5 sm:gap-x-0 pr-4 py-2 border-b border-gray-209 text-body-3">
                <div class="flex items-center justify-center">
                    <p class="text-black-60 text-center font-semibold">Nº</p>
                </div>
                <div class="flex items-center justify-center">
                    <p class="text-black-60 text-center font-semibold">Salida</p>
                </div>
                <div class="flex items-center justify-center">
                    <p class="text-black-60 text-center font-semibold">Flota</p>
                </div>
                <div class="flex items-center justify-center">
                    <p class="text-black-60 text-center font-semibold">Placa</p>
                </div>
                <div class="flex items-center justify-center">
                </div>
            </div>
            <div class="section-padre pb-24 block w-full h-[240px] overflow-x-hidden bg-gray-250 pt-2">
                <div class="grid gap-2 grid-cols-5 sm:gap-x-0">
                    {% set ns=namespace(index=1) %}
                    {% for vp in vps %}
                    <div class="section-count flex items-center justify-center" id="section{{ns.index}}">
                        {{ns.index}}
                    </div>
                    {% set ns.index=ns.index+1 %}
                    <div class="flex items-center justify-center">
                        <p class="uppercase">{{vp.tiempo | time("HM")}}</p>
                    </div>
                    <div class="flex items-center justify-center">
                        {{vp.flota}}
                    </div>
                    <div class="flex items-center justify-center">
                        {{vp.placa}}
                    </div>
                    <div class="flex items-center justify-center">
                        <a href="{{ url_for('programacion.eliminar_vehiculo_programado', vp_id=vp.id_vp) }}" class="btn btn--base bg-red-600 rounded text-white">
                            <div class="flex justify-center items-center">
                                <img src="{{url_for('static', filename='img/delete.svg')}}" alt="Descargar" class="">
                                <p class="ml-2 text-xs sm:hidden">Eliminar</p>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
<div class="bg-white border border-cream-100 rounded-[10px] shadow-custom p-2">
    <div class="flex items-center justify-center">
        <p class="text-h6 text-black-100">Agregar vehiculo a la programacion de: 
            <span class="text-blue-100 font-semibold">{{programa.fecha.fecha | date_time('date')}}</span>
        </p>
    </div>
    <div class="grid grid-cols-2 gap-x-2 sm:grid-cols-1 m-2">
        <div class="sm:order-2 flex flex-col items-center justify-center rounded bg-blue-darksky-g md:mt-12 p-2">
            <p class="mt-2 text-center text-white text-h6">Recorrido de la ruta {{programa.ruta.codigo}}</p>
            <div class="flex items-center grid gap-2 sm:grid-cols-1 grid-cols-4 sm:gap-x-0">
                <div class="flex flex-col items-center justify-center">
                    <span class="text-center">
                        <p class="text-white text-sm">Origen:</p>
                        <p class="text-white text-xs">{{programa.ruta.rutas_terminal[0].terminal.direccion}}</p>
                        <p class="text-white text-xs">{{programa.ruta.rutas_terminal[0].terminal.distrito.nombre}}</p>
                    </span>
                    <img src="{{url_for('static', filename='img/start.svg')}}" alt="Salida" class="">
                </div>
                <div class="flex items-end col-span-2 sm:col-span-1">
                    <div class="w-full h-12 border-b-5 sm:border-b-0 sm:border-r-5 border-white border-dot b-0"></div>
                    <div class="w-full h-12 border-b-5 sm:border-b-0 border-white border-dot"></div>
                </div>
                <div class="flex flex-col items-center justify-center">
                    <span class="text-center">
                        <p class="text-white text-sm">Destino:</p>
                        <p class="text-white text-xs">{{programa.ruta.rutas_terminal[0].terminal2.direccion}}</p>
                        <p class="text-white text-xs">{{programa.ruta.rutas_terminal[0].terminal2.distrito.nombre}}</p>
                    </span>
                    <img src="{{url_for('static', filename='img/arrival.svg')}}" alt="llegada" class="">
                </div>
            </div>
        </div>
        <div class="sm:order-1 flex items-center justify-center">
            <form action="" method="post" novalidate>
                {{form.hidden_tag()}}
                <div class="grid grid-cols-2 gap-x-4 sm:grid-cols-1 t:grid-cols-1 sm:gap-x-2">
                    <div class="mt-3 order-1 sm:order-no">
                        <div class="relative">
                            <div class="w-full block">
                                {{ form.vehiculo.label }}
                                {{ form.vehiculo(class="rounded-xxs border text-black-100 text-sm w-full px-4 py-3 border-gray-209", autocomplete="off", maxlength="20") }}<br>
                            </div>
                        </div>
                        {% for error in form.vehiculo.errors %}
                        <span class="text-red-600 text-xs">{{ error }}</span>
                        {% endfor %}
                    </div>
                    <div class="mt-3 order-1 sm:order-no">
                        <div class="relative">
                            <div class="w-full block">
                                {{ form.tiempo.label }}
                                {{ form.tiempo(class="rounded-xxs border text-black-100 text-sm w-full px-4 py-3 border-gray-209", placeholder="Hora", autocomplete="off", maxlength="20") }}<br>
                            </div>
                        </div>
                        {% for error in form.tiempo.errors %}
                        <span class="text-red-600 text-xs">{{ error }}</span>
                        {% endfor %}
                    </div>
                    <div class="col-span-2 mt-3 sm:col-span-1 t:col-span-1 order-4 sm:order-no">
                        <div class="mt-4 mb-5">
                            {{ form.submit(class="btn btn--base btn-green-600 w-full md:w-auto block text-center py-2") }}
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}